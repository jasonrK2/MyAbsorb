!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=function(e){return e&&e.Math==Math&&e},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},a=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),i=function(e){return"object"==typeof e?null!==e:"function"==typeof e},s=r.document,u=i(s)&&i(s.createElement),c=!a&&!o((function(){return 7!=Object.defineProperty((e="div",u?s.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),p=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e},l=Object.defineProperty,f={f:a?l:function(e,t,n){if(p(e),t=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),p(n),c)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},d=a?function(e,t,n){return f.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},m={}.hasOwnProperty,y=function(e,t){return m.call(e,t)},g=function(e,t){try{d(r,e,t)}catch(n){r[e]=t}return t},h=r["__core-js_shared__"]||g("__core-js_shared__",{}),b=Function.toString;"function"!=typeof h.inspectSource&&(h.inspectSource=function(e){return b.call(e)});var v,N,w,S,E=h.inspectSource,I=r.WeakMap,A="function"==typeof I&&/native code/.test(E(I)),x=t((function(e){(e.exports=function(e,t){return h[e]||(h[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),C=0,T=Math.random(),P=x("keys"),D=r.WeakMap;if(A){var j=new D,k=j.get,_=j.has,M=j.set;v=function(e,t){return M.call(j,e,t),t},N=function(e){return k.call(j,e)||{}},w=function(e){return _.call(j,e)}}else{var R=P[S="state"]||(P[S]=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++C+T).toString(36)}(S));v=function(e,t){return d(e,R,t),t},N=function(e){return y(e,R)?e[R]:{}},w=function(e){return y(e,R)}}var O={set:v,get:N,has:w,enforce:function(e){return w(e)?N(e):v(e,{})},getterFor:function(e){return function(t){var n;if(!i(t)||(n=N(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},q=t((function(e){var t=O.get,n=O.enforce,o=String(String).split("String");(e.exports=function(e,t,a,i){var s=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof a&&("string"!=typeof t||y(a,"name")||d(a,"name",t),n(a).source=o.join("string"==typeof t?t:"")),e!==r?(s?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=a:d(e,t,a)):u?e[t]=a:g(t,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||E(this)}))})),F=function(){var e=p(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},U=RegExp.prototype,L=U.toString,z=o((function(){return"/a/b"!=L.call({source:"a",flags:"b"})})),G="toString"!=L.name;(z||G)&&q(RegExp.prototype,"toString",(function(){var e=p(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in U)?F.call(e):n)}),{unsafe:!0}),metadata={systemName:"Absorb Sandbox API - Departments",displayName:"Absorb Sandbox API Broker",description:"An example broker pulls in the Departments list from Absorb LMS."},ondescribe=function(){postSchema({objects:{departments:{displayName:"AbsorbDepartments",description:"Manages the Departments list",properties:{Id:{displayName:"Department Id",type:"string"},Name:{displayName:"Name",type:"string"},UseDepartmentContactDetails:{displayName:"Use Department Contact Details",type:"boolean"},CompanyName:{displayName:"Company Name",type:"string"},PhoneNumber:{displayName:"Phone Number",type:"string"},EmailAddress:{displayName:"Email Address",type:"string"},ExternalId:{displayName:"External Id",type:"string"},ParentId:{displayName:"Parent Id",type:"string"},CurrencyId:{displayName:"Currency Id",type:"string"}},methods:{getList:{displayName:"Get Departments",type:"list",inputs:["Name","ExternalId"],parameters:{AuthToken:{displayName:"AuthToken",description:"Authorization Token for Absorb",type:"string"}},requiredParameters:["AuthToken"],outputs:["Id","Name","UseDepartmentContactDetails","CompanyName","PhoneNumber","EmailAddress","ExternalId","ParentId","CurrencyId"]}}}}})},onexecute=function(e,t,n,r){switch(e){case"departments":!function(e,t,n){switch(e){case"getList":!function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(200!==n.status)throw new Error("Failed with status "+n.status);var e=JSON.parse(n.responseText);for(var t in e)postResult({Id:e[t].Id,Name:e[t].Name,UseDepartmentContactDetails:e[t].UseDepartmentContactDetails,CompanyName:e[t].CompanyName,PhoneNumber:e[t].PhoneNumber,EmailAddress:e[t].EmailAddress,ExternalId:e[t].ExternalId,ParentId:e[t].ParentId,CurrencyId:e[t].CurrencyId})}},n.open("GET","https://k2.sandbox.myabsorb.com/api/rest/v1/departments"),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",e.AuthToken.toString()),n.withCredentials=!1,n.send()}(n);break;default:throw new Error("The method "+e+" is not supported.")}}(t,0,n);break;default:throw new Error("The object "+e+" is not supported.")}}}();
//# sourceMappingURL=index.js.map
