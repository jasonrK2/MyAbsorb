metadata={systemName:"Absorb Sandbox API - Departments",displayName:"Absorb Sandbox API Broker",description:"An example broker pulls in the Departments list from Absorb LMS."},ondescribe=function(){postSchema({objects:{departments:{displayName:"AbsorbDepartments",description:"Manages the Departments list",properties:{Id:{displayName:"Department Id",type:"string"},Name:{displayName:"Name",type:"string"},UseDepartmentContactDetails:{displayName:"Use Department Contact Details",type:"boolean"},CompanyName:{displayName:"Company Name",type:"string"},PhoneNumber:{displayName:"Phone Number",type:"string"},EmailAddress:{displayName:"Email Address",type:"string"},ExternalId:{displayName:"External Id",type:"string"},ParentId:{displayName:"Parent Id",type:"string"},CurrencyId:{displayName:"Currency Id",type:"string"}},methods:{getList:{displayName:"Get Departments",type:"list",inputs:["Name","ExternalId"],parameters:{AuthToken:{displayName:"AuthToken",description:"Authorization Token for Absorb",type:"string"}},requiredParameters:["AuthToken"],outputs:["Id","Name","UseDepartmentContactDetails","CompanyName","PhoneNumber","EmailAddress","ExternalId","ParentId","CurrencyId"]}}}}})},onexecute=function(e,t,a,r){switch(e){case"departments":!function(e,t,a){switch(e){case"getList":(r=new XMLHttpRequest).onreadystatechange=function(){if(4===r.readyState){if(200!==r.status)throw new Error("Failed with status "+r.status);var e=JSON.parse(r.responseText);for(var t in e)postResult({Id:e[t].Id,Name:e[t].Name,UseDepartmentContactDetails:e[t].UseDepartmentContactDetails,CompanyName:e[t].CompanyName,PhoneNumber:e[t].PhoneNumber,EmailAddress:e[t].EmailAddress,ExternalId:e[t].ExternalId,ParentId:e[t].ParentId,CurrencyId:e[t].CurrencyId})}},r.open("GET","https://k2.sandbox.myabsorb.com/api/rest/v1/departments"),r.setRequestHeader("Content-Type","application/json"),r.withCredentials=!1,r.send();break;default:throw new Error("The method "+e+" is not supported.")}var r}(t);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
