metadata={systemName:"Absorb Sandbox API - Departments",displayName:"Absorb Sandbox API Broker",description:"An example broker pulls in the Departments list from Absorb LMS.",configuration:{MyServiceKey1:{displayName:"My Service Key 1",type:"string",value:""}}},ondescribe=function(){postSchema({objects:{departments:{displayName:"AbsorbDepartments",description:"Manages the Departments list",properties:{Id:{displayName:"Department Id",type:"string"},Name:{displayName:"Name",type:"string"},UseDepartmentContactDetails:{displayName:"Use Department Contact Details",type:"boolean"},CompanyName:{displayName:"Company Name",type:"string"},PhoneNumber:{displayName:"Phone Number",type:"string"},EmailAddress:{displayName:"Email Address",type:"string"},ExternalId:{displayName:"External Id",type:"string"},ParentId:{displayName:"Parent Id",type:"string"},CurrencyId:{displayName:"Currency Id",type:"string"}},methods:{getList:{displayName:"Get Departments",type:"list",inputs:["Name","ExternalId","AuthToken"],requiredInputs:["AuthToken"],outputs:["Id","Name","UseDepartmentContactDetails","CompanyName","PhoneNumber","EmailAddress","ExternalId","ParentId","CurrencyId"]}}}}})},onexecute=function(e,t,a,s){switch(e){case"departments":!function(e,t,a){switch(e){case"getList":(s=new XMLHttpRequest).onreadystatechange=function(){if(4===s.readyState){if(200!==s.status)throw new Error("Failed with status "+s.status);var e=JSON.parse(s.responseText);for(var t in e)postResult({Id:e[t].Id,Name:e[t].Name,UseDepartmentContactDetails:e[t].UseDepartmentContactDetails,CompanyName:e[t].CompanyName,PhoneNumber:e[t].PhoneNumber,EmailAddress:e[t].EmailAddress,ExternalId:e[t].ExternalId,ParentId:e[t].ParentId,CurrencyId:e[t].CurrencyId})}},s.open("GET","https://k2.sandbox.myabsorb.com/api/rest/v1/departments"),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization",encodeURIComponent("c+tUHegjbwFLAgAhc9wexA==+mz2FAw41JMviPgvn+LXXXhe4WdsUj5Vpa5sfmF5I6SiKbgF2wiDaxbCK0+OUMTmYMMCo0HdPXJ8QCRLIBqUuARX8lve2TyV+NJAszsJ2QVZQF7Wa+Y6a7SjJ6X3WtoLzKza5FsUb1vgAmYY08z59Q==")),s.withCredentials=!1,s.send();break;default:throw new Error("The method "+e+" is not supported.")}var s}(t);break;default:throw new Error("The object "+e+" is not supported.")}};
//# sourceMappingURL=index.js.map
